.. role:: raw-html-m2r(raw)
   :format: html

ディスパッチ/命令発行
============================

現在の実装に関する具体的なポイントをいくつか挙げてみる。

- **ユニファイドディスパッチ・命令発行**:主に領域を節約するため、また各エントリーの使用頻度を最大限に高めるため
- **2Dキュー**:エントリーはC=decodeCount列、L=slotCount/decodeCount行に配置される
- **行プッシュ** : キューに何かがプッシュされると、その行全体が「消費」される。たとえその行が完全に使用されていない場合でも、行全体を消費する。
- **圧縮なし** : 空行には圧縮が適用されない。プッシュが行われるごとに、ホワイトキューが1行シフトする。これにより、行列FFのより優れた推論と、より小さく高速なROB IDウェイクロジックが可能になる。
- **マトリックスベース** : どの命令を格納するかは、ハーフマトリックスとして実行される内容によって決まる
- **古い順** : 複数の命令が特定の実行ユニットで同時にディスパッチされる場合、古い命令が選択される
- **ROB IDによるウェイクアップ** : ダイナミックウェイクアップの場合、ROB IDが識別子として使用される(物理レジスタファイルIDではない)

そのため、全体的には、タイミングを維持するために超えないようにするには、32スロットのキューが限界のようだ。また、現在の設計では、キューの占有面積はCPU全体と比較してそれほど大きな問題ではないようだ。

以下にいくつかの図を示す:

.. image:: /asset/image/iq_push_pop.png

.. image:: /asset/image/iq_wake_logic_nc.png

.. image:: /asset/image/iq_wake_logic_storage.png

.. image:: /asset/image/iq_issue_logic.png

